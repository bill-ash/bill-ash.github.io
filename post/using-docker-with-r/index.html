<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Using Docker with R - </title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="Building a shiny-server Docker image on Ubuntu.">
		<meta property="og:title" content="Using Docker with R" />
<meta property="og:description" content="Building a shiny-server Docker image on Ubuntu." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bill-ash.com/post/using-docker-with-r/" />
<meta property="article:published_time" content="2020-08-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-21T00:00:00+00:00" />

		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Using Docker with R"/>
<meta name="twitter:description" content="Building a shiny-server Docker image on Ubuntu."/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="https://bill-ash.com/css/style.css">
	<link rel="stylesheet" href="https://bill-ash.com/css/override.css">
	<link rel="shortcut icon" href="https://bill-ash.com/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-176046651-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="https://bill-ash.com/" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="https://bill-ash.com/img/header.png">
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="https://bill-ash.com/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="https://bill-ash.com/projects/">
				
				<span class="menu__text">Projects</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Using Docker with R</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2020-08-21T00:00:00Z">August 21, 2020</time></div></div>
		</header><div class="content post__content clearfix">
			<figure class="alignright">
    <img src="https://bill-ash.com/img/docker.png"/> 
</figure>

<p>Still working out the details of my site, but I thought I would do a quick
post on starting a Docker container with shiny-server running on Ubuntu.</p>
<p>I have an old mac-mini running Ubuntu that sits next to my router at home. I love
using Linux for small side projects like self hosting databases, web servers,
web apps etc. Porting these small side projects to proper hosting infastructure with
real security, or even to another machine somewhere else in the world is something
I&rsquo;d like to be able to do.</p>
<h2 id="enter-docker">Enter Docker</h2>
<p>I get why people are crazy about using Docker. My understanding of the advantages
include:</p>
<ul>
<li>portability</li>
<li>version control</li>
<li>collaboration</li>
<li>resolving dependency issues</li>
</ul>
<p>but there are still a lot of things that I don&rsquo;t understand. Like docker compose? Swarm?
no idea what this means yet. In an effort to get more familiar with Docker, I thought I would spin up a few containers on my own.</p>
<p>This was surprisingly easy to do.</p>
<h2 id="brief-summary-of-docker">Brief summary of Docker</h2>
<p>Docker is a container management suite that allows teams to build applications or
run services similar to the way you would with a VM. The major difference between
Docker and a vitrual machine is that each VM contains an entire operating
system, while Docker containers share a common OS and consume fewer resources.</p>
<p>A Docker image is comprised of &ldquo;layers&rdquo; which are a set of instructions that
describe how to build a Docker container. Think of Docker like purchasing a brand
new computer. The computer has an OS. Before you can use it to build things,
you need to set up your environment. This consists of installing software, libraries,
and other tools needed to run whatever your are building. After the instructions
are finalized Docker will build your container exatly the same no matter where
the image is built from. This provides a great solution for building things that
are platform agnostic and won&rsquo;t change over time.</p>
<h2 id="installing-docker">Installing Docker</h2>
<p>Docker had some simple install instructions you can copy straight from
their <a href="https://docs.docker.com/engine/install/ubuntu/">site</a>.</p>
<p>Set up a new Docker repo on Ubuntu, and <code>apt-get install docker-ce docker-ce-cli container</code>.</p>
<p>Subsequently, starting a container running shiny-server was just as easy due to
the work already done by the <a href="https://hub.docker.com/u/rocker">rocker-organization</a>.</p>
<p>Once Docker was finished installing, I was able to pull an image from the rocker
project running the latest version of R-4.0.2 with <code>docker pull rocker/shiny:4.0.2</code>.</p>
<p>I already have shiny-server running running behind a reverse proxy set up with
Nginx. So step one was killing shiny-server with <code>sudo service shiny-server stop</code>.</p>
<p>After a few minutes, I was able to start a new container with <code>sudo docker run --rm -d -p 3838:3838 rocker/shiny:4.0.2</code>. Navigate to your local ip address or <code>localhost</code> to
see the default shiny-server &ldquo;It&rsquo;s alive!&rdquo; screen.</p>
<p>View all your running containers with <code>docker ps</code>, and destroy the dockerized shiny-server
with <code>docker kill containerid</code>.</p>
<p>That&rsquo;s it. Add additional customization by building new layers on top of your base
image you pulled from Docker hub. These new layers could contain configuration files,
applications, etc.</p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="https://bill-ash.com/tags/docker/" rel="tag">docker</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="https://bill-ash.com/tags/r/" rel="tag">R</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="https://bill-ash.com/tags/shiny/" rel="tag">shiny</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Bill Ash.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="https://bill-ash.com/js/menu.js"></script>
</body>
</html>